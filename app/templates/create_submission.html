{% extends "base.html" %}
{% block title %}Nova Submissão{% endblock %}

{% block content %}

<div class="row justify-content-center">
    <div class="col-lg-8">

        <div class="surface p-5">

            <div class="d-flex justify-content-between align-items-center mb-4">
                <h1 class="fw-bold mb-0">
                    Nova Submissão
                </h1>

                <a href="{{ url_for('problem.get_problem_controller', id=problem_id) }}"
                   class="btn btn-outline-secondary">
                    ← Voltar ao problema
                </a>
            </div>

            {# mensagens flash #}
            {% with messages = get_flashed_messages(with_categories=true) %}
              {% if messages %}
                {% for category, message in messages %}
                  <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                  </div>
                {% endfor %}
              {% endif %}
            {% endwith %}

            <form method="POST">

                <div class="mb-4">
                    <label for="language" class="form-label fw-semibold">
                        Linguagem
                    </label>
                    <select name="language" id="language" class="form-select form-select-lg" required>
                        <option value="" disabled selected>Selecione a linguagem</option>
                        <option value="python">Python</option>
                        <option value="c">C</option>
                        <option value="cpp">C++</option>
                    </select>
                </div>

                <div class="mb-4">
                    <label for="code" class="form-label fw-semibold">
                        Código
                    </label>
                    <textarea
                        name="code"
                        id="code"
                        class="form-control font-monospace"
                        rows="14"
                        placeholder="Cole seu código aqui"
                        required></textarea>
                </div>

                <div class="d-flex justify-content-end gap-2">
                    <a href="{{ url_for('problem.get_problem_controller', id=problem_id) }}"
                       class="btn btn-outline-secondary">
                        Cancelar
                    </a>

                    <button type="submit" class="btn btn-primary px-4">
                        Enviar Submissão
                    </button>
                </div>

            </form>

        </div>
    </div>
</div>

{% endblock %}
